(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bc19b0c"],{"119f":function(t,e,r){},"19d6":function(t,e,r){t.exports=r.p+"img/6.3f314993.jpg"},"36bd":function(t,e,r){"use strict";var i=r("4bf8"),n=r("77f1"),o=r("9def");t.exports=function(t){var e=i(this),r=o(e.length),a=arguments.length,s=n(a>1?arguments[1]:void 0,r),l=a>2?arguments[2]:void 0,c=void 0===l?r:n(l,r);while(c>s)e[s++]=t;return e}},"3a63":function(t,e,r){t.exports=r.p+"img/2.38307333.jpg"},4085:function(t,e,r){t.exports=r.p+"img/5.f2057b3f.jpg"},4917:function(t,e,r){"use strict";var i=r("cb7c"),n=r("9def"),o=r("0390"),a=r("5f1b");r("214f")("match",1,(function(t,e,r,s){return[function(r){var i=t(this),n=void 0==r?void 0:r[e];return void 0!==n?n.call(r,i):new RegExp(r)[e](String(i))},function(t){var e=s(r,t,this);if(e.done)return e.value;var l=i(t),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;var d,f=[],h=0;while(null!==(d=a(l,c))){var p=String(d[0]);f[h]=p,""===p&&(l.lastIndex=o(c,n(l.lastIndex),u)),h++}return 0===h?null:f}]}))},"5dbc":function(t,e,r){var i=r("d3f4"),n=r("8b97").set;t.exports=function(t,e,r){var o,a=e.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&i(o)&&n&&n(t,o),t}},"6c7b":function(t,e,r){var i=r("5ca1");i(i.P,"Array",{fill:r("36bd")}),r("9c6c")("fill")},"74ef":function(t,e,r){t.exports=r.p+"img/4.e497a15c.jpg"},7659:function(t,e,r){"use strict";var i=r("119f"),n=r.n(i);n.a},7890:function(t,e,r){t.exports=r.p+"img/9.962b7589.jpg"},8300:function(t,e,r){t.exports=r.p+"img/7.5169ec45.jpg"},"8b97":function(t,e,r){var i=r("d3f4"),n=r("cb7c"),o=function(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:i(t,r),t}}({},!1):void 0),check:o}},a0be:function(t,e,r){},a3fb:function(t,e,r){t.exports=r.p+"img/8.4c866d30.jpg"},aa77:function(t,e,r){var i=r("5ca1"),n=r("be13"),o=r("79e5"),a=r("fdef"),s="["+a+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(t,e,r){var n={},s=o((function(){return!!a[t]()||l[t]()!=l})),c=n[t]=s?e(f):a[t];r&&(n[r]=c),i(i.P+i.F*s,"String",n)},f=d.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},ad8b:function(t,e,r){},bbaf:function(t,e,r){t.exports=r.p+"img/3.17620e7e.jpg"},c111:function(t,e,r){t.exports=r.p+"img/1.4368d371.jpg"},c5f6:function(t,e,r){"use strict";var i=r("7726"),n=r("69a8"),o=r("2d95"),a=r("5dbc"),s=r("6a99"),l=r("79e5"),c=r("9093").f,u=r("11e9").f,d=r("86cc").f,f=r("aa77").trim,h="Number",p=i[h],m=p,v=p.prototype,g=o(r("2aeb")(v))==h,b="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():f(e,3);var r,i,n,o=e.charCodeAt(0);if(43===o||45===o){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+e}for(var a,l=e.slice(2),c=0,u=l.length;c<u;c++)if(a=l.charCodeAt(c),a<48||a>n)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof p&&(g?l((function(){v.valueOf.call(r)})):o(r)!=h)?a(new m(y(e)),r,p):y(e)};for(var x,C=r("9e1e")?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;C.length>N;N++)n(m,x=C[N])&&!n(p,x)&&d(p,x,u(m,x));p.prototype=v,v.constructor=p,r("2aba")(i,h,p)}},d9c9:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login-wrap"},[r("div",{staticClass:"ms-login"},[r("div",{staticClass:"ms-title"},[t._v("后台管理")]),r("el-form",{ref:"ruleForm",staticClass:"cy-login-form",attrs:{model:t.ruleForm,rules:t.rules}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入用户名","prefix-icon":"el-icon-user"},model:{value:t.ruleForm.username,callback:function(e){t.$set(t.ruleForm,"username",e)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码","prefix-icon":"el-icon-lock"},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{prop:"checkgraph"}},[r("el-input",{staticClass:"graphical_input",attrs:{placeholder:"请输入验证码","prefix-icon":"el-icon-unlock"},model:{value:t.ruleForm.checkgraph,callback:function(e){t.$set(t.ruleForm,"checkgraph",e)},expression:"ruleForm.checkgraph"}}),r("graphical",{ref:"getSelectData"})],1),r("el-form-item",[r("div",{staticClass:"login-btn"},[r("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.OnSubmit("ruleForm")}}},[t._v("登录")])],1)])],1),r("el-popover",{ref:"popover",attrs:{"popper-class":"slidingPictures",trigger:"manual"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("div",{staticClass:"sliding-pictures"},[r("div",{staticClass:"vimg"},[r("canvas",{attrs:{id:"sliderBlock"}}),r("canvas",{attrs:{id:"codeImg"}})]),r("div",{staticClass:"slider_login"},[r("div",{staticClass:"track",class:{pintuTrue:t.puzzle}},[t._v(t._s(t.tips))]),r("div",{staticClass:"button el-icon-s-grid",on:{mousedown:function(e){return e.preventDefault(),t.drag(e)}}})]),r("div",{staticClass:"operation"},[r("span",{staticClass:"el-icon-circle-close",attrs:{title:"关闭验证码"},on:{click:t.closecanvas}}),r("span",{staticClass:"el-icon-refresh-left",attrs:{title:"刷新验证码"},on:{click:t.canvasInit}})])])])],1)])},n=[],o=(r("c5f6"),r("0fb7"),r("450d"),r("f529")),a=r.n(o),s=(r("4917"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"code",on:{click:t.refreshCode}},[r("s-identify",{attrs:{identifyCode:t.identifyCode}})],1)}),l=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"s-canvas"},[r("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])},u=[],d=(r("6c7b"),{name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:16},fontSizeMax:{type:Number,default:40},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:110},contentHeight:{type:Number,default:40}},mounted:function(){this.drawPic()},watch:{identifyCode:function(){this.drawPic()}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var r=this.randomNum(t,e),i=this.randomNum(t,e),n=this.randomNum(t,e);return"rgb("+r+","+i+","+n+")"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var r=0;r<this.identifyCode.length;r++)this.drawText(e,this.identifyCode[r],r);this.drawLine(e),this.drawDot(e)},drawText:function(t,e,r){t.fillStyle=this.randomColor(this.colorMin,this.colorMax),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var i=(r+1)*(this.contentWidth/(this.identifyCode.length+1)),n=this.randomNum(this.fontSizeMax,this.contentHeight-5),o=this.randomNum(-45,45);t.translate(i,n),t.rotate(o*Math.PI/180),t.fillText(e,0,0),t.rotate(-o*Math.PI/180),t.translate(-i,-n)},drawLine:function(t){for(var e=0;e<4;e++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<50;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}}}),f=d,h=r("2877"),p=Object(h["a"])(f,c,u,!1,null,null,null),m=p.exports,v={components:{SIdentify:m},name:"codetest",data:function(){return{identifyCodes:"1234567890",identifyCode:""}},mounted:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(t,e){for(var r=0;r<e;r++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)]}}},g=v,b=(r("fa23"),Object(h["a"])(g,s,l,!1,null,null,null)),y=b.exports,x={components:{Graphical:y},data:function(){var t=this,e=function(t,e,r){var i=/^[0-9a-zA-Z_]{1,}$/;""===e?r(new Error("请输入用户名")):e.match(i)||r(new Error("用户名由数字、26个英文字母或者下划线组成")),r()},r=function(t,e,r){""===e?r(new Error("密码")):(e.length<3||e.length>12)&&r(new Error("密码长度至少3位最多12位")),r()},i=function(e,r,i){var n=t.$refs.getSelectData.identifyCode;""===r?i(new Error("请输入验证码")):r!==n&&i(new Error("请输入正确验证码")),i()};return{loading:!1,ruleForm:{username:"",password:"",checkgraph:""},rules:{username:[{validator:e,trigger:"blur"}],password:[{validator:r,trigger:"blur"}],checkgraph:[{validator:i,trigger:"blur"}]},visible:!1,puzzle:!1,tips:"拖动左边滑块完成上方拼图",slider:{mx:0,bx:0},imgN:0}},methods:{UserLogin:function(){var t=this;this.loading=!1,this.$store.dispatch("user/login",this.ruleForm).then((function(e){t.$router.push("/")}))},OnSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(console.log(t),!t)return console.log("error submit!!"),a()({type:"error",message:"操作有误"}),!1;e.loading=!0;var r=e.visible;e.visible=!r,e.canvasInit(),e.puzzle=!1}))},canvasInit:function(){var t=this.imgN;t++,t>8&&(t=1),this.imgN=t,this.tips="拖动左边滑块完成上方拼图";var e=function(t,e){return Math.floor(Math.random()*(e-t)+t)},r=e(100,255),i=e(10,120),n=e(10,80);this.slider={mx:r,bx:i},this.draw(r,i,n)},draw:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n=document.querySelector("#codeImg"),o=n.getContext("2d"),a=n.width,s=170,l=document.querySelector("#sliderBlock"),c=l.getContext("2d");l.height=s,n.height=s;var u=document.createElement("img");u.style.objectFit="scale-down";var d=[r("c111"),r("3a63"),r("bbaf"),r("74ef"),r("4085"),r("19d6"),r("8300"),r("a3fb"),r("7890")],f=this.imgN;u.src=d[f-1],u.onload=function(){o.drawImage(u,0,0,a,s),c.drawImage(u,0,0,a,s)};var h={x:t,y:i,r:9},p={x:e,y:i,r:9};this.drawBlock(o,h,"fill"),this.drawBlock(c,p,"clip")},drawBlock:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:254,y:109,r:9},r=arguments.length>2?arguments[2]:void 0,i=e.x,n=e.y,o=e.r,a=40,s=Math.PI;t.beginPath(),t.moveTo(i,n),t.arc(i+(a+5)/2,n,o,-s,0,!0),t.lineTo(i+a+5,n),t.arc(i+a+5,n+a/2,o,1.5*s,.5*s,!1),t.lineTo(i+a+5,n+a),t.arc(i+(a+5)/2,n+a,o,0,s,!1),t.lineTo(i,n+a),t.arc(i,n+a/2,o,.5*s,1.5*s,!0),t.lineTo(i,n),t.lineWidth=1,t.fillStyle="rgba(255, 255, 255, 0.9)",t.strokeStyle="rgba(255, 255, 255, 0.9)",t.stroke(),t[r](),t.globalCompositeOperation="xor"},drag:function(t){var e=this,r=t.target,i=document.querySelector("#sliderBlock"),n={x:t.x,y:t.y},o=Number(this.slider.mx)-Number(this.slider.bx),a=0,s=function(t){if(a=t.x-n.x,a>=251||a<=0)return!1;r.style.left=a+"px",i.style.left=a+"px"},l=function t(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t),r.style.left="";var i=o+3,n=o-3;i>=a&&a>=n||a===o?(e.puzzle=!0,e.tips="验证成功",setTimeout((function(){e.visible=!1}),500),e.UserLogin()):(e.tips="验证失败，请重试",e.puzzle=!1,e.canvasInit())};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)},closecanvas:function(){this.visible=!1,this.loading=!1}}},C=x,N=(r("7659"),r("e6e5"),Object(h["a"])(C,i,n,!1,null,null,null));e["default"]=N.exports},e6e5:function(t,e,r){"use strict";var i=r("a0be"),n=r.n(i);n.a},fa23:function(t,e,r){"use strict";var i=r("ad8b"),n=r.n(i);n.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-0bc19b0c.1c62b078.js.map