{"version":3,"sources":["./src/app/pages/Myuser/Avatar/Avatar.component.html","./src/app/pages/Myuser/Avatar/Avatar.component.less","./src/app/pages/Myuser/Avatar/Avatar.component.ts","./src/app/pages/Myuser/Myuser-routing.module.ts","./src/app/pages/Myuser/Myuser.module.ts"],"names":[],"mappings":"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","file":"Myuser-Myuser-module-es2015.js","sourcesContent":["export default \"<app-breadcrumb></app-breadcrumb>\\r\\n<div>\\r\\n  <!-- <div class=\\\"avaimg\\\">\\r\\n    <img [src]=\\\"avatarUrl\\\" alt=\\\"\\\" sizes=\\\"\\\" srcset=\\\"\\\" />\\r\\n  </div> -->\\r\\n\\r\\n  <!-- <div>\\r\\n    选择文件(可多选):\\r\\n    <input type=\\\"file\\\" id=\\\"f1\\\" multiple /><br /><br />\\r\\n    <button type=\\\"button\\\" id=\\\"btn-submit\\\">上 传</button>\\r\\n  </div> -->\\r\\n\\r\\n  <nz-upload\\r\\n    class=\\\"avatar-uploader\\\"\\r\\n    nzAction=\\\"https://jsonplaceholder.typicode.com/posts/\\\"\\r\\n    nzName=\\\"avatar\\\"\\r\\n    nzListType=\\\"picture-card\\\"\\r\\n    [nzShowUploadList]=\\\"false\\\"\\r\\n    [nzBeforeUpload]=\\\"beforeUpload\\\"\\r\\n    (nzChange)=\\\"handleChange($event)\\\"\\r\\n  >\\r\\n    <ng-container *ngIf=\\\"!avatarUrl\\\">\\r\\n      <i\\r\\n        class=\\\"upload-icon\\\"\\r\\n        nz-icon\\r\\n        [nzType]=\\\"loading ? 'loading' : 'plus'\\\"\\r\\n      ></i>\\r\\n      <div class=\\\"ant-upload-text\\\">Upload</div>\\r\\n    </ng-container>\\r\\n    <img *ngIf=\\\"avatarUrl\\\" [src]=\\\"avatarUrl\\\" class=\\\"avatar\\\" />\\r\\n  </nz-upload>\\r\\n</div>\\r\\n\"","export default \".avaimg {\\n  margin: 50px;\\n  width: 150px;\\n  height: 150px;\\n}\\n.avaimg img {\\n  border-radius: 50%;\\n  width: 100%;\\n  height: 100%;\\n}\\n.avatar {\\n  width: 128px;\\n  height: 128px;\\n}\\n.upload-icon {\\n  font-size: 32px;\\n  color: #999;\\n}\\n.ant-upload-text {\\n  margin-top: 8px;\\n  color: #666;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvTXl1c2VyL0F2YXRhci9EOi9naXRodWIvRkxNX2FkbWluL3NyYy9hcHAvcGFnZXMvTXl1c2VyL0F2YXRhci9BdmF0YXIuY29tcG9uZW50Lmxlc3MiLCJzcmMvYXBwL3BhZ2VzL015dXNlci9BdmF0YXIvQXZhdGFyLmNvbXBvbmVudC5sZXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtFQUNGLFlBQUE7RUFDQSxhQUFBO0FDQ0Y7QURDQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRjtBREVBO0VBQ0UsWUFBQTtFQUNBLGFBQUE7QUNBRjtBREVBO0VBQ0UsZUFBQTtFQUNBLFdBQUE7QUNBRjtBREVBO0VBQ0UsZUFBQTtFQUNBLFdBQUE7QUNBRiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL015dXNlci9BdmF0YXIvQXZhdGFyLmNvbXBvbmVudC5sZXNzIiwic291cmNlc0NvbnRlbnQiOlsiLmF2YWltZyB7XG4gICAgbWFyZ2luOiA1MHB4O1xuICB3aWR0aDogMTUwcHg7XG4gIGhlaWdodDogMTUwcHg7XG59XG4uYXZhaW1nIGltZyB7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLmF2YXRhciB7XG4gIHdpZHRoOiAxMjhweDtcbiAgaGVpZ2h0OiAxMjhweDtcbn1cbi51cGxvYWQtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMzJweDtcbiAgY29sb3I6ICM5OTk7XG59XG4uYW50LXVwbG9hZC10ZXh0IHtcbiAgbWFyZ2luLXRvcDogOHB4O1xuICBjb2xvcjogIzY2Njtcbn0iLCIuYXZhaW1nIHtcbiAgbWFyZ2luOiA1MHB4O1xuICB3aWR0aDogMTUwcHg7XG4gIGhlaWdodDogMTUwcHg7XG59XG4uYXZhaW1nIGltZyB7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cbi5hdmF0YXIge1xuICB3aWR0aDogMTI4cHg7XG4gIGhlaWdodDogMTI4cHg7XG59XG4udXBsb2FkLWljb24ge1xuICBmb250LXNpemU6IDMycHg7XG4gIGNvbG9yOiAjOTk5O1xufVxuLmFudC11cGxvYWQtdGV4dCB7XG4gIG1hcmdpbi10b3A6IDhweDtcbiAgY29sb3I6ICM2NjY7XG59XG4iXX0= */\"","import { OnInit, Component } from '@angular/core';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { UploadFile } from 'ng-zorro-antd/upload';\r\nimport { Observable, Observer } from 'rxjs';\r\n@Component({\r\n  selector: 'app-avatar',\r\n  templateUrl: './Avatar.component.html',\r\n  styleUrls: ['./Avatar.component.less']\r\n})\r\nexport class AvatarComponent implements OnInit {\r\n  loading = false;\r\n  avatarUrl: string\r\n\r\n  constructor(private msg: NzMessageService) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  beforeUpload = (file: File) => {\r\n    return new Observable((observer: Observer<boolean>) => {\r\n      const isJPG = file.type !== 'image/bmp\t';\r\n      if (!isJPG) {\r\n        this.msg.error('You can   upload any file  except bmp!');\r\n        observer.complete();\r\n        return;\r\n      }\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n      if (!isLt2M) {\r\n        this.msg.error('Image must smaller than 2MB!');\r\n        observer.complete();\r\n        return;\r\n      }\r\n      // check height\r\n      this.checkImageDimension(file).then(dimensionRes => {\r\n        if (!dimensionRes) {\r\n          this.msg.error('Image only 600x600 above');\r\n          observer.complete();\r\n          return;\r\n        }\r\n\r\n        observer.next(isJPG && isLt2M && dimensionRes);\r\n        observer.complete();\r\n      });\r\n    });\r\n  };\r\n\r\n  private getBase64(img: File, callback: (img: string) => void): void {\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => callback(reader.result!.toString()));\r\n    reader.readAsDataURL(img);\r\n  }\r\n\r\n  private checkImageDimension(file: File): Promise<boolean> {\r\n\r\n    return new Promise(resolve => {\r\n      const img = new Image(); // create image\r\n      img.src = window.URL.createObjectURL(file);\r\n      img.onload = () => {\r\n        const width = img.naturalWidth;\r\n        const height = img.naturalHeight;\r\n        window.URL.revokeObjectURL(img.src!);\r\n        console.log(width)\r\n        console.log(height)\r\n        console.log(width === height && width >= 600);\r\n        \r\n        resolve(width === height && width >= 600);\r\n      };\r\n    });\r\n  }\r\n\r\n  handleChange(info: { file: UploadFile }): void {\r\n    console.log(info);\r\n    switch (info.file.status) {\r\n      case 'uploading':\r\n        this.loading = true;\r\n        break;\r\n      case 'done':\r\n        // Get this url from response in real world.\r\n        this.getBase64(info.file!.originFileObj!, (img: string) => {\r\n          this.loading = false;\r\n          this.avatarUrl = img;\r\n        });\r\n        break;\r\n      case 'error':\r\n        this.msg.error('Network error');\r\n        this.loading = false;\r\n        break;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AvatarComponent } from './Avatar/Avatar.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'avatar',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: 'avatar',\r\n    data: {\r\n      title: '设置头像'\r\n    },\r\n    component: AvatarComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class MyUserRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n// 注册当前路由\r\nimport { MyUserRoutingModule } from './Myuser-routing.module';\r\n// 导入子页面组件\r\nimport { AvatarComponent } from './Avatar/Avatar.component';\r\n// 引入面包屑\r\nimport { SharedModule } from 'src/app/components/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [AvatarComponent],\r\n  imports: [CommonModule, SharedModule],\r\n  exports: [MyUserRoutingModule],\r\n  providers: []\r\n})\r\nexport class MyuserModule {}\r\n"],"sourceRoot":"webpack:///"}