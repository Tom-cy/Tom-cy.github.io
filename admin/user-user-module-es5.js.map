{"version":3,"sources":["src/app/pages/user/login/login.component.html","src/app/pages/user/login/login.component.less","src/app/pages/user/login/login.component.ts","src/app/pages/user/user-routing.module.ts","src/app/pages/user/user.module.ts","src/app/service/login/login.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"login-wrap\\\">\\r\\n  <div class=\\\"ms-login\\\">\\r\\n    <span class=\\\"login_title\\\">后台管理系统</span>\\r\\n    <form\\r\\n      nz-form\\r\\n      [formGroup]=\\\"validateForm\\\"\\r\\n      class=\\\"login-form\\\"\\r\\n      (ngSubmit)=\\\"submitForm()\\\"\\r\\n    >\\r\\n      <nz-form-item>\\r\\n        <nz-form-control nzHasFeedback nzErrorTip=\\\"Please input your username!\\\">\\r\\n          <nz-input-group nzPrefixIcon=\\\"user\\\">\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              nz-input\\r\\n              formControlName=\\\"userName\\\"\\r\\n              placeholder=\\\"Username\\\"\\r\\n            />\\r\\n          </nz-input-group>\\r\\n        </nz-form-control>\\r\\n      </nz-form-item>\\r\\n      <nz-form-item>\\r\\n        <nz-form-control nzHasFeedback nzErrorTip=\\\"Please input your Password!\\\">\\r\\n          <nz-input-group nzPrefixIcon=\\\"lock\\\">\\r\\n            <input\\r\\n              type=\\\"password\\\"\\r\\n              nz-input\\r\\n              formControlName=\\\"password\\\"\\r\\n              placeholder=\\\"Password\\\"\\r\\n            />\\r\\n          </nz-input-group>\\r\\n        </nz-form-control>\\r\\n      </nz-form-item>\\r\\n      <nz-form-item>\\r\\n        <nz-form-control>\\r\\n          <label nz-checkbox formControlName=\\\"remember\\\">\\r\\n            <span>Remember me</span>\\r\\n          </label>\\r\\n\\r\\n          <button nz-button  (click)=\\\"resetForm($event)\\\" class=\\\"login-form-forgot\\\" [nzType]=\\\"'dashed'\\\">\\r\\n            Reset\\r\\n          </button>\\r\\n          <button nz-button class=\\\"login-form-button\\\" [nzType]=\\\"'primary'\\\">\\r\\n            Log in\\r\\n          </button>\\r\\n        </nz-form-control>\\r\\n      </nz-form-item>\\r\\n    </form>\\r\\n  </div>\\r\\n</div>\\r\\n\"","export default \".login-wrap {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  background-image: url('login.png');\\n  background-size: cover;\\n}\\n.login-wrap .ms-login {\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  padding: 0 25px;\\n  width: 350px;\\n  min-height: 300px;\\n  margin-left: -175px;\\n  margin-top: -175px;\\n  border-radius: 5px;\\n  background: rgba(255, 255, 255, 0.5);\\n  overflow: hidden;\\n}\\n.login-wrap .ms-login .login_title {\\n  display: block;\\n  padding-left: 0;\\n  width: 100%;\\n  text-align: center;\\n  height: 50px;\\n  line-height: 50px;\\n  font-size: 24px;\\n  color: #fff;\\n  border-bottom: 1px solid #FFF;\\n}\\n.login-form {\\n  margin-top: 10px;\\n  max-width: 300px;\\n}\\n.login-form-forgot {\\n  float: right;\\n}\\n.login-form-button {\\n  width: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdXNlci9sb2dpbi9EOi9naXRodWIvRkxNX2FkbWluL3NyYy9hcHAvcGFnZXMvdXNlci9sb2dpbi9sb2dpbi5jb21wb25lbnQubGVzcyIsInNyYy9hcHAvcGFnZXMvdXNlci9sb2dpbi9sb2dpbi5jb21wb25lbnQubGVzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQ0FBQTtFQUNBLHNCQUFBO0FDQ0Y7QUROQTtFQU9JLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0Esb0NBQUE7RUFDQSxnQkFBQTtBQ0VKO0FEbkJBO0VBbUJNLGNBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSw2QkFBQTtBQ0dOO0FES0E7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0FDSEY7QURNQTtFQUNFLFlBQUE7QUNKRjtBRE9BO0VBQ0UsV0FBQTtBQ0xGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdXNlci9sb2dpbi9sb2dpbi5jb21wb25lbnQubGVzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sb2dpbi13cmFwIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy9sb2dpbi5wbmcpO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAubXMtbG9naW57XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDUwJTtcbiAgICB0b3A6IDUwJTtcbiAgICBwYWRkaW5nOjAgMjVweDtcbiAgICB3aWR0aDogMzUwcHg7XG4gICAgbWluLWhlaWdodDogMzAwcHg7XG4gICAgbWFyZ2luLWxlZnQ6IC0xNzVweDtcbiAgICBtYXJnaW4tdG9wOiAtMTc1cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwwLjUpO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgLmxvZ2luX3RpdGxle1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBwYWRkaW5nLWxlZnQ6IDA7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGhlaWdodDogNTBweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xuICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0ZGRjtcbiAgICAgXG4gICAgfVxuICB9XG4gIFxufVxuXG5cbi5sb2dpbi1mb3JtIHtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgbWF4LXdpZHRoOiAzMDBweDtcbn1cblxuLmxvZ2luLWZvcm0tZm9yZ290IHtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4ubG9naW4tZm9ybS1idXR0b24ge1xuICB3aWR0aDogMTAwJTtcbn0iLCIubG9naW4td3JhcCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvbG9naW4ucG5nKTtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn1cbi5sb2dpbi13cmFwIC5tcy1sb2dpbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogNTAlO1xuICB0b3A6IDUwJTtcbiAgcGFkZGluZzogMCAyNXB4O1xuICB3aWR0aDogMzUwcHg7XG4gIG1pbi1oZWlnaHQ6IDMwMHB4O1xuICBtYXJnaW4tbGVmdDogLTE3NXB4O1xuICBtYXJnaW4tdG9wOiAtMTc1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLmxvZ2luLXdyYXAgLm1zLWxvZ2luIC5sb2dpbl90aXRsZSB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwYWRkaW5nLWxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGhlaWdodDogNTBweDtcbiAgbGluZS1oZWlnaHQ6IDUwcHg7XG4gIGZvbnQtc2l6ZTogMjRweDtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRkZGO1xufVxuLmxvZ2luLWZvcm0ge1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICBtYXgtd2lkdGg6IDMwMHB4O1xufVxuLmxvZ2luLWZvcm0tZm9yZ290IHtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuLmxvZ2luLWZvcm0tYnV0dG9uIHtcbiAgd2lkdGg6IDEwMCU7XG59XG4iXX0= */\"","import { OnInit, Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { AuthService } from 'src/app/core/auth/auth.service';\r\nimport { LoginService } from 'src/app/service/login/login.service';\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.less']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  validateForm: FormGroup;\r\n  returnUrl: string;\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private authService: AuthService,\r\n    private loginService: LoginService,\r\n    private router: Router,\r\n    private route: ActivatedRoute\r\n  ) {\r\n    if (authService.currentUserValue) {\r\n      // console.log('自动进入首页');\r\n      // this.router.navigate([this.returnUrl]);\r\n    }\r\n  }\r\n  submitForm(): void {\r\n    for (const i in this.validateForm.controls) {\r\n      if (i) {\r\n        this.validateForm.controls[i].markAsDirty();\r\n        this.validateForm.controls[i].updateValueAndValidity();\r\n      }\r\n    }\r\n    const data = this.validateForm.value;\r\n    if (data.userName && data.password) {\r\n      this.authService.login(data.userName, data.password);\r\n      this.router.navigate([this.returnUrl]);\r\n    }\r\n  }\r\n  resetForm(e: MouseEvent): void {\r\n    e.preventDefault();\r\n    this.validateForm.reset();\r\n    for (const key in this.validateForm.controls) {\r\n      if (key) {\r\n        this.validateForm.controls[key].markAsPristine();\r\n        this.validateForm.controls[key].updateValueAndValidity();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.validateForm = this.fb.group({\r\n      userName: [null, [Validators.required]],\r\n      password: [null, [Validators.required]],\r\n      remember: [true]\r\n    });\r\n    this.returnUrl =\r\n      this.route.snapshot.queryParams.returnUrl || '/';\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginComponent } from './login/login.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'login',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: 'login',\r\n    component: LoginComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UserRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\n// 接收可以使用Nfif, Ngfor\r\nimport { CommonModule } from '@angular/common';\r\n// 导入路由\r\nimport { UserRoutingModule } from './user-routing.module';\r\n// 导入子组件/\r\nimport { LoginComponent } from './login/login.component';\r\n// 注册反应式表单模块\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n// ----------第三方插件---------\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\n\r\n@NgModule(\r\n    {\r\n        declarations: [\r\n            // 导入子组件/\r\n            LoginComponent\r\n        ],\r\n        imports: [\r\n            // 注册反应式表单模块\r\n            ReactiveFormsModule,\r\n            // 接收可以使用Nfif, Ngfor\r\n            CommonModule,\r\n            // 导入ng-zorro-antd模块\r\n            NgZorroAntdModule],\r\n        exports: [\r\n            // 当前路由信息\r\n            UserRoutingModule,\r\n        ]\r\n    }\r\n)\r\nexport class UserModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { UserInfo } from 'src/app/core/auth/models/auth-info';\r\n\r\n@Injectable({ providedIn: 'root' })\r\n\r\nexport class LoginService {\r\n    constructor(private http: HttpClient) { }\r\n\r\n    login(username: string, password: string) {\r\n        const url = `/account/login`;\r\n        return this.http.post<UserInfo>(url, {\r\n            username,\r\n            password\r\n        });\r\n    }\r\n\r\n    logout() {\r\n        const url = `/account/logout`;\r\n        return this.http.get(url);\r\n    }\r\n}\r\n"],"sourceRoot":"webpack:///"}